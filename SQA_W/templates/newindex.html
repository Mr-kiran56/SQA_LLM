<input type="file" id="pdfFile" accept="application/pdf" />

<button onclick="generateQuestions()">
  Generate Questions
</button>

<button id="saveBtn" onclick="saveWord()" style="display:none;">
  Save to Word
</button>

<pre id="output"></pre>

<script>
async function generateQuestions() {
  const fileInput = document.getElementById("pdfFile");

  if (!fileInput.files.length) {
    alert("Select a PDF first");
    return;
  }

  const formData = new FormData();
  formData.append("pdf_file", fileInput.files[0]);

  const res = await fetch("/generate", {
    method: "POST",
    body: formData
  });

  const data = await res.json();

  document.getElementById("output").innerText = data.output;

  
  document.getElementById("saveBtn").style.display = "inline-block";
}

function saveWord() {
  window.location.href = "/download-word";
}
</script>
